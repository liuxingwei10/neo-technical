= Cubieboard2 from scratch (INCOMPLETE) =

== Introduction ==

What we will be doing is building everything the board needs to get up and running, this includes compiling the bootloader (U-Boot) making an optimized cross compiler for our specific platform, building the Linux kernel, and whatever else.

=== Prerequisites ===

You will need the following packages installed on your host system before proceeding:

 * mercurial (hg)
 * git (git-core)
 * make 3.82 recommended (4.0 is known to have issues)
 * gcc 4.8.2 or 4.7.3 recommended
 * g++ 4.8.2 or 4.7.3 recommended
 * binutils 2.22 or later recommended
 * mpfr 3.1.2 recommended
 * gmp (libgmp) 5.1.3 recommended
 * GNU mpc (libmpc) 1.0.2 recommended
 * automake 1.13.4 recommended (1.14.1 is known to have issues)
 * autoconf 2.69 recommended

== Building the cross compiler ==

1a.) Download crosstool-ng and config file for Cubieboard2:

http://crosstool-ng.org/#using_the_latest_development_stuff

For "./ct-ng menuconfig" I have made a crosstool-ng config file that you can load via the Kconfig interface (Load an Alternate Configuration File) that you can download here:

https://neo-technical.googlecode.com/svn/trunk/crosstool/crosstool-ng.config

*Be sure that after you download and save it, to load the file and save to .config*

2a.) Compile crosstool-ng:

After loading the crosstool-ng config file, run the following command:

{{{
ct-ng build
}}}

Your cross compiler should now be in in your ~/x-tools folder. Because I do a lot of cross compiling, I have modified the PATH variable in my /etc/profile so I no longer have to run export PATH="$PATH:/home/whatever/x-tools/arm-unknown-linux-gnueabihf/bin"

3a.) Now that you have your cross compiler in your PATH (however method you decide to do that) it is time to start fetching the required sources for the cubieboard2:

{{{
cd ~/ && mkdir -p cubieboard-dev && cd cubieboard-dev
git clone https://github.com/linux-sunxi/u-boot-sunxi.git
git clone git://github.com/linux-sunxi/sunxi-tools.git
git clone git://github.com/linux-sunxi/sunxi-boards.git
}}}

4a.) Compile U-Boot:

*PLEASE NOTE: I have not yet messed with the Cubieboard2 enough to get it to boot off of an external SATA drive!*

*All instructions from here on are meant to be used for SD cards ONLY!*

{{{
cd u-boot-sunxi
make CROSS_COMPILE=arm-unknown-linux-gnueabihf- Cubieboard2
cd ..
}}}

5a.) Compile fex2bin:

{{{
cd sunxi-tools
make fex2bin
cd ..
}}}

6a.) Compile script.bin:

{{{